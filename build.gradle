buildscript {
	repositories { jcenter() }
	dependencies {
		classpath "org.asciidoctor:asciidoctor-gradle-plugin:1.5.3"
		classpath 'org.asciidoctor:asciidoctorj-pdf:1.5.0-alpha.8'
		classpath 'org.asciidoctor:asciidoctorj-epub3:1.5.0-alpha.4'
	}
}

subprojects {
	apply plugin: 'org.asciidoctor.convert'

	task runAll(type: com.vogella.AsciiDoc) {
		description = 'Creates Html 5, PDF and Epub 3 Documentation'
		group = 'Documentation'

		backends = ['html5', 'pdf', 'epub3']

		resources {
			from(sourceDir) { include 'img/**' }
		}
	}

	task runHtml(type: com.vogella.AsciiDoc) {
		description = 'Creates Html 5 Documentation'
		group = 'Documentation'

		backends = ['html5']

		resources {
			from(sourceDir) { include 'img/**' }
		}
	}

	task runPdf(type: com.vogella.AsciiDoc) {
		description = 'Creates PDF Documentation'
		group = 'Documentation'

		backends = ['pdf']
	}

	task runEpub(type: com.vogella.AsciiDoc) {
		description = 'Creates Epub 3 Documentation'
		group = 'Documentation'

		backends = ['epub3']
	}

	task initTemplate(type: com.vogella.Template) {
		description = 'Creates a vogella tutorial template'
		group = 'Init'
	}
}
